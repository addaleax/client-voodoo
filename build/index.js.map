{"version":3,"sources":["index.js","index.ts"],"names":[],"mappings":";;;;;;;;AAAA,IAAI,SAAS,GAAG,AAAC,aAAQ,UAAK,SAAS,IAAK,UAAU,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE;AAC3F,WAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;AAC1C,iBAAS,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;AAChD,iBAAS,IAAI,CAAC,KAAK,EAAE;AAAE,mBAAO,KAAK,YAAY,OAAO,IAAI,KAAK,CAAC,WAAW,KAAK,OAAO,GAAG,KAAK,GAAG,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE;AAAE,uBAAO,CAAC,KAAK,CAAC,CAAC;aAAE,CAAC,CAAC;SAAE;AACxJ,iBAAS,SAAS,CAAC,KAAK,EAAE;AAAE,gBAAI;AAAE,oBAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;aAAE,CAAC,OAAO,CAAC,EAAE;AAAE,sBAAM,CAAC,CAAC,CAAC,CAAC;aAAE;SAAE;AACnF,iBAAS,QAAQ,CAAC,KAAK,EAAE;AAAE,gBAAI;AAAE,oBAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;aAAE,CAAC,OAAO,CAAC,EAAE;AAAE,sBAAM,CAAC,CAAC,CAAC,CAAC;aAAE;SAAE;AACnF,iBAAS,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;AACvB,gBAAI,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC;AACpC,kBAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;SACtF;AACD,YAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;KACxB,CAAC,CAAC;CACN,CAAC;ACZF,IAAA,YAAA,GAAA,OAAA,CAAuB,cAAc,CAAC,CAAA;AAEtC,IAAI,MAAM,GAAG,YAAA,CAAA,OAAU,CAAC,QAAQ,CAAE,iEAAiE,EAAE,oBAAoB,CAAE,CAAC;AAE5H,IAAI,MAAM,GAAG,KAAK,CAAC;AACnB,MAAM,CAAC,UAAU,CAAE,UAAU,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAA;AAEzE,WAAO,CAAC,GAAG,CAAE,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAE,QAAQ,GAAG,GAAG,CAAE,GAAG,GAAG,CAAE,CAAC;AAC1E,WAAO,CAAC,GAAG,CAAE,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAE,OAAO,CAAE,GAAG,eAAe,GAAG,IAAI,CAAC,KAAK,CAAE,QAAQ,CAAE,GAAG,cAAc,GAAG,IAAI,CAAC,KAAK,CAAE,OAAO,CAAE,GAAG,aAAa,GAAG,IAAI,CAAC,KAAK,CAAE,OAAO,CAAE,GAAG,OAAO,CAAE,CAAC;AAC/L,QAAK,QAAQ,GAAG,GAAG,IAAI,CAAC,MAAO,EAAE;AAChC,eAAO,CAAC,GAAG,CAAE,yBAAyB,CAAE,CAAC;AACzC,cAAM,CAAC,IAAI,EAAE,CACX,IAAI,CAAE;mBAAM,sBAAa,UAAE,OAAO;uBAAM,UAAU,CAAE,OAAO,EAAE,IAAI,CAAE;aAAA,CAAE;SAAA,CAAE,CACvE,IAAI,CAAE;mBAAM,MAAM,CAAC,KAAK,EAAE;SAAA,CAAE,CAC5B,IAAI,CAAE,YAAA;AAAa,kBAAM,GAAG,IAAI,CAAC,AAAC,OAAO,CAAC,GAAG,CAAE,qBAAqB,CAAE,CAAA;SAAE,CAAE,CAAC;KAC7E;CACD,CAAE,CAAC;AAEJ,MAAM,CAAC,OAAO,CACZ,IAAI,CAAE,YAAA;AAEN,WAAO,CAAC,GAAG,CAAE,YAAY,CAAE,CAAC;CAC5B,CAAE,CACF,KAAK,CAAE,UAAU,GAA0B,EAAA;AAE3C,WAAO,CAAC,GAAG,CAAE,sBAAsB,GAAG,GAAG,CAAC,OAAO,CAAE,CAAC;CACpD,CAAE,CAAC","file":"index.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, Promise, generator) {\n    return new Promise(function (resolve, reject) {\n        generator = generator.call(thisArg, _arguments);\n        function cast(value) { return value instanceof Promise && value.constructor === Promise ? value : new Promise(function (resolve) { resolve(value); }); }\n        function onfulfill(value) { try { step(\"next\", value); } catch (e) { reject(e); } }\n        function onreject(value) { try { step(\"throw\", value); } catch (e) { reject(e); } }\n        function step(verb, value) {\n            var result = generator[verb](value);\n            result.done ? resolve(result.value) : cast(result.value).then(onfulfill, onreject);\n        }\n        step(\"next\", void 0);\n    });\n};\nvar downloader_1 = require('./downloader');\nlet handle = downloader_1.default.download('https://az764295.vo.msecnd.net/public/0.10.3/VSCode-linux64.zip', 'VSCode-linux64.zip');\nlet waited = false;\nhandle.onProgress(function (progress, curKbps, peakKbps, lowKbps, avgKbps) {\n    console.log('Download progress: ' + Math.floor(progress * 100) + '%');\n    console.log('Current speed: ' + Math.floor(curKbps) + ' kbps, peak: ' + Math.floor(peakKbps) + ' kbps, low: ' + Math.floor(lowKbps) + ', average: ' + Math.floor(avgKbps) + ' kbps');\n    if (progress > 0.5 && !waited) {\n        console.log('Having a comic relief..');\n        handle.stop()\n            .then(() => new Promise((resolve) => setTimeout(resolve, 5000)))\n            .then(() => handle.start())\n            .then(function () { waited = true; console.log('Had a comic relief!'); });\n    }\n});\nhandle.promise\n    .then(function () {\n    console.log('Happy day!');\n})\n    .catch(function (err) {\n    console.log('You fuggin druggah: ' + err.message);\n});\n","import Downloader from './downloader';\n\nlet handle = Downloader.download( 'https://az764295.vo.msecnd.net/public/0.10.3/VSCode-linux64.zip', 'VSCode-linux64.zip' );\n\nlet waited = false;\nhandle.onProgress( function( progress, curKbps, peakKbps, lowKbps, avgKbps )\n{\n\tconsole.log( 'Download progress: ' + Math.floor( progress * 100 ) + '%' );\n\tconsole.log( 'Current speed: ' + Math.floor( curKbps ) + ' kbps, peak: ' + Math.floor( peakKbps ) + ' kbps, low: ' + Math.floor( lowKbps ) + ', average: ' + Math.floor( avgKbps ) + ' kbps' );\n\tif ( progress > 0.5 && !waited ) {\n\t\tconsole.log( 'Having a comic relief..' );\n\t\thandle.stop()\n\t\t\t.then( () => new Promise( ( resolve ) => setTimeout( resolve, 5000 ) ) )\n\t\t\t.then( () => handle.start() )\n\t\t\t.then( function() { waited = true; console.log( 'Had a comic relief!' ) } );\n\t}\n} );\n\nhandle.promise\n\t.then( function()\n\t{\n\t\tconsole.log( 'Happy day!' );\n\t} )\n\t.catch( function( err: NodeJS.ErrnoException )\n\t{\n\t\tconsole.log( 'You fuggin druggah: ' + err.message );\n\t} );"],"sourceRoot":"../src/"}