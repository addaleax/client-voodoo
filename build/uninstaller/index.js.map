{"version":3,"sources":["uninstaller/index.js","uninstaller/index.ts"],"names":["Uninstaller","Uninstaller.uninstall","UninstallHandle","UninstallHandle.constructor","UninstallHandle.dir","UninstallHandle.promise"],"mappings":";;;;;;;;;;;;AAAA,IAAI,SAAS,GAAG,AAAC,aAAQ,UAAK,SAAS,IAAK,UAAU,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE;AAC3F,WAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;AAC1C,iBAAS,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;AAChD,iBAAS,IAAI,CAAC,KAAK,EAAE;AAAE,mBAAO,KAAK,YAAY,OAAO,IAAI,KAAK,CAAC,WAAW,KAAK,OAAO,GAAG,KAAK,GAAG,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE;AAAE,uBAAO,CAAC,KAAK,CAAC,CAAC;aAAE,CAAC,CAAC;SAAE;AACxJ,iBAAS,SAAS,CAAC,KAAK,EAAE;AAAE,gBAAI;AAAE,oBAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;aAAE,CAAC,OAAO,CAAC,EAAE;AAAE,sBAAM,CAAC,CAAC,CAAC,CAAC;aAAE;SAAE;AACnF,iBAAS,QAAQ,CAAC,KAAK,EAAE;AAAE,gBAAI;AAAE,oBAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;aAAE,CAAC,OAAO,CAAC,EAAE;AAAE,sBAAM,CAAC,CAAC,CAAC,CAAC;aAAE;SAAE;AACnF,iBAAS,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;AACvB,gBAAI,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC;AACpC,kBAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;SACtF;AACD,YAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;KACxB,CAAC,CAAC;CACN,CAAC;ACZF,IAAY,GAAG,GAAA,OAAA,CAAM,KAAK,CAAC,CAAA;;IAE3B,WAAA;aAAA,WAAA;4CAAA,WAAA;;;+BAAA,WAAA;;kCAEmBA,GAAWA,EAAAA;AAE5BC,mBAAOA,IAAIA,eAAeA,CAAEA,GAAGA,CAAEA,CAACA;SAClCA;;WALF,WAAA;;;AAAsB,OAAA,CAAA,WAAW,GAAA,WAMhC,CAAA;;IAED,eAAA;AAGCC,aAHD,eAAA,CAGsBA,IAAYA,EAAAA;4CAHlC,eAAA;;AAGsBC,YAAAA,CAAAA,IAAIA,GAAJA,IAAIA,CAAQA;AAEhCA,YAAIA,CAACA,QAAQA,GAAGA,GAAGA,CAAEA,IAAIA,EAAEA;AAC1BA,eAAGA,EAAEA,IAAIA;AACTA,iBAAKA,EAAEA,IAAIA;SACXA,CAAEA,CAACA;KACJA;;+BATF,eAAA;;4BAWQD;AAENE,mBAAOA,IAAIA,CAACA,IAAIA,CAACA;SACjBA;;;4BAEUF;AAEVG,mBAAOA,IAAIA,CAACA,QAAQA,CAACA;SACrBA;;WAnBF,eAAA;;;AAAa,OAAA,CAAA,eAAe,GAAA,eAoB3B,CAAA","file":"uninstaller/index.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, Promise, generator) {\n    return new Promise(function (resolve, reject) {\n        generator = generator.call(thisArg, _arguments);\n        function cast(value) { return value instanceof Promise && value.constructor === Promise ? value : new Promise(function (resolve) { resolve(value); }); }\n        function onfulfill(value) { try { step(\"next\", value); } catch (e) { reject(e); } }\n        function onreject(value) { try { step(\"throw\", value); } catch (e) { reject(e); } }\n        function step(verb, value) {\n            var result = generator[verb](value);\n            result.done ? resolve(result.value) : cast(result.value).then(onfulfill, onreject);\n        }\n        step(\"next\", void 0);\n    });\n};\nvar del = require('del');\nclass Uninstaller {\n    static uninstall(dir) {\n        return new UninstallHandle(dir);\n    }\n}\nexports.Uninstaller = Uninstaller;\nclass UninstallHandle {\n    constructor(_dir) {\n        this._dir = _dir;\n        this._promise = del(_dir, {\n            cwd: _dir,\n            force: true,\n        });\n    }\n    get dir() {\n        return this._dir;\n    }\n    get promise() {\n        return this._promise;\n    }\n}\nexports.UninstallHandle = UninstallHandle;\n","import * as del from 'del';\n\nexport abstract class Uninstaller\n{\n\tstatic uninstall( dir: string ): UninstallHandle\n\t{\n\t\treturn new UninstallHandle( dir );\n\t}\n}\n\nexport class UninstallHandle\n{\n\tprivate _promise: Promise<string[]>;\n\tconstructor( private _dir: string )\n\t{\n\t\tthis._promise = del( _dir, {\n\t\t\tcwd: _dir,\n\t\t\tforce: true, // TODO: make sure this doesnt allow following symlinks.\n\t\t} );\n\t}\n\n\tget dir(): string\n\t{\n\t\treturn this._dir;\n\t}\n\n\tget promise(): Promise<string[]>\n\t{\n\t\treturn this._promise;\n\t}\n}\n"],"sourceRoot":"../../src/"}